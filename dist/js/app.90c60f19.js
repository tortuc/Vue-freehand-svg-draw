(function(t){function o(o){for(var e,l,s=o[0],a=o[1],c=o[2],d=0,h=[];d<s.length;d++)l=s[d],r[l]&&h.push(r[l][0]),r[l]=0;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e]);u&&u(o);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,o=0;o<i.length;o++){for(var n=i[o],e=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(e=!1)}e&&(i.splice(o--,1),t=l(l.s=n[0]))}return t}var e={},r={app:0},i=[];function l(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=e,l.d=function(t,o,n){l.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,o){if(1&o&&(t=l(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)l.d(n,e,function(o){return t[o]}.bind(null,e));return n},l.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(o,"a",o),o},l.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},l.p="/freehand-svg/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=o,s=s.slice();for(var c=0;c<s.length;c++)o(s[c]);var u=a;i.push([0,"chunk-vendors"]),n()})({0:function(t,o,n){t.exports=n("56d7")},"034f":function(t,o,n){"use strict";var e=n("64a9"),r=n.n(e);r.a},"1a7d":function(t,o,n){t.exports=n.p+"img/clear.9776181b.svg"},"56d7":function(t,o,n){"use strict";n.r(o);n("cadf"),n("551c"),n("f751"),n("097d");var e=n("2b0e"),r=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{attrs:{id:"app"}},[n("FreehandDrawSVG",{attrs:{title:t.drawProps.title,colors:t.drawProps.colors,bgColors:t.drawProps.bgColors,lineColor:t.drawProps.lineColor,bgColor:t.drawProps.bgColor},on:{changeLineColor:t.changeLineColor,changeBgColor:t.changeBgColor,drawSubmit:t.saveDrawing}})],1)},i=[],l=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"draw"},[e("div",{staticClass:"toolbar",style:{right:t.toolBarRight}},[e("div",{staticClass:"allColors"},[e("div",{staticClass:"panelUp mobile"}),e("transition-group",{staticClass:"lineColor",attrs:{name:"color-list",tag:"ul"}},t._l(t.colors,function(o,n){return e("li",{key:o,style:{"background-color":o},on:{click:function(e){return t.changeLineColor(o,n)}}})}),0),e("transition-group",{staticClass:"bgColor",attrs:{name:"color-list",tag:"ul"}},t._l(t.bgColors,function(o,n){return e("li",{key:o,style:{"background-color":o},on:{click:function(e){return t.changeBg(o,n)}}})}),0)],1)]),e("div",{staticClass:"buttons",class:{showButtons:t.undo}},[e("button",{staticClass:"btn submitBtn",on:{click:function(o){return t.download()}}},[e("img",{attrs:{src:n("6369"),alt:"Download"}})]),e("button",{staticClass:"btn clearBtn",on:{click:function(o){return t.clean()}}},[e("img",{attrs:{src:n("1a7d"),alt:"Clear Canvas"}})]),e("button",{staticClass:"btn undoBtn",on:{click:function(o){return t.undoLine()}}},[e("img",{attrs:{src:n("ce60"),alt:"Undo"}})])]),e("div",{staticClass:"canvas"},[t.undo?t._e():e("h2",{staticClass:"noselect",style:{color:t.lineColor}},[t._v(" "+t._s(t.title)+" ")]),e("svg",{staticClass:"drawSvg",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:t.canvasWidth,height:t.canvasHeight},on:{mousedown:function(o){return t.linestart()},touchstart:function(o){return t.linestart()},mousemove:function(o){return t.lineMove()},touchmove:function(o){return t.lineMove()},mouseup:function(o){return t.lineEnd()},touchend:function(o){return t.lineEnd()},onmouseleave:function(o){return t.outOfCanvas()},touchcancel:function(o){return t.outOfCanvas()}}},[e("rect",{attrs:{id:"bg",width:"100%",height:"100%",fill:t.bgColor}})]),e("div",{style:{"background-color":t.lineColor},attrs:{id:"cursor"}})])])},s=[];n("ac4d"),n("8a81"),n("ac6a"),n("6b54"),n("4917"),n("386d");n("7156");var a=document.querySelector.bind(document),c=document.querySelectorAll.bind(document),u={name:"Draw",props:["title","colors","bgColors","lineColor","bgColor"],data:function(){return{board:"",cursor:"",colorNum:0,gesture:!1,line:"",radius:2.5,width:8,undo:!1,onCanvas:!1}},computed:{canvasWidth:function(){return this.board.clientWidth},canvasHeight:function(){return this.board.clientHeight},toolBarRight:{get:function(){return 51.5*-this.colors.length+"px"},set:function(t){}}},methods:{initBoard:function(){this.board=a(".drawSvg"),this.cursor=a("#cursor"),this.gesture=!1},linestart:function(){this.undo=!0;var t=event,o=this.board.getBoundingClientRect(),n=Math.round(t.clientX-o.x)||Math.round(t.changedTouches[0].clientX-o.x),e=Math.round(t.clientY-o.y)||Math.round(t.changedTouches[0].clientY-o.y);this.line+="M"+n+","+e,this.cursor.style.opacity=1,this.gesture=!0,t.preventDefault()},lineMove:function(){var t=event,o=this.board.getBoundingClientRect(),n=Math.round(t.clientX-o.x)||Math.round(t.changedTouches[0].clientX-o.x),e=Math.round(t.clientY-o.y)||Math.round(t.changedTouches[0].clientY-o.y);1==this.gesture&&(this.line+="L"+n+","+e,this.trace(t.clientX||t.touches[0].clientX,t.clientY||t.touches[0].clientY)),this.cursor.style.top=t.clientY-o.y-this.radius+"px",this.cursor.style.left=t.clientX-o.x-this.radius+"px",this.cursorX=t.clientX-o.x,this.cursorY=t.clientY-o.y,this.onCanvas=!0},trace:function(t,o){var n=document.createElement("div");n.classList.add("dot"),n.style.top=o-this.radius+"px",n.style.left=t-this.radius+"px",n.style.background=this.lineColor,n.style.width=n.style.height=2*this.radius+"px",document.body.appendChild(n),setTimeout(function(){n.style.opacity=0},500),setTimeout(function(){document.body.removeChild(n)},1e3)},lineEnd:function(){var t=event,o=this.board.getBoundingClientRect(),n=Math.round(t.clientX-o.x)||Math.round(t.changedTouches[0].clientX-o.x),e=Math.round(t.clientY-o.y)||Math.round(t.changedTouches[0].clientY-o.y);this.line+="L"+n+","+e,this.cursor.style.opacity=.5;var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttributeNS(null,"d",this.line),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"stroke-linecap","round"),r.setAttributeNS(null,"stroke-linejoin","round"),r.setAttributeNS(null,"stroke",this.lineColor),r.setAttributeNS(null,"stroke-width",this.width),this.board.appendChild(r),this.gesture=!1,this.line=""},arrayMove:function(t,o,n){var e=t[o];t.splice(o,1),t.splice(n,0,e)},rgb2hex:function(t){if(-1==t.search("rgb"))return t;var o=function(t){return("0"+parseInt(t).toString(16)).slice(-2)};return t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),"#"+o(t[1])+o(t[2])+o(t[3])},setActiveColor:function(t){var o=c(t),n=event.target,e=!0,r=!1,i=void 0;try{for(var l,s=o[Symbol.iterator]();!(e=(l=s.next()).done);e=!0){var a=l.value;a.classList.remove("activeColor")}}catch(u){r=!0,i=u}finally{try{e||null==s.return||s.return()}finally{if(r)throw i}}setTimeout(function(){n.classList.add("activeColor")},10)},setActiveColorMounted:function(t,o,n){var e=c(t),r=o.indexOf(n),i=!0,l=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var d=a.value,h=this.rgb2hex(d.style.backgroundColor).toUpperCase();h===n&&(d.classList.add("activeColor"),this.arrayMove(o,r,0))}}catch(g){l=!0,s=g}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}},changeLineColor:function(t,o){window.scrollTo({top:0,behavior:"smooth"}),this.$emit("changeLineColor",t),this.setActiveColor(".lineColor li"),this.arrayMove(this.colors,o,0)},changeBg:function(t,o){window.scrollTo({top:0,behavior:"smooth"}),this.$emit("changeBgColor",t),this.setActiveColor(".bgColor li"),a(".drawSvg #bg").setAttribute("fill",this.bgColor),this.arrayMove(this.bgColors,o,0)},undoLine:function(){var t=c(".drawSvg path");a(".drawSvg").removeChild(t[t.length-1])},clean:function(){this.line="",this.undo=!1;var t=c(".drawSvg path").length,o=0;for(o=0;o<t;o++)this.board.removeChild(this.board.querySelectorAll("path")[0])},download:function(){var t=document.createElement("a"),o=this.svgDataURL(a(".drawSvg"));console.log(o),document.body.appendChild(t),t.setAttribute("href",o),t.setAttribute("download","freehand-svg-drawing.svg"),t.click()},svgDataURL:function(){var t=(new XMLSerializer).serializeToString(this.board);return"data:image/svg+xml,"+encodeURIComponent(t)}},mounted:function(){this.initBoard(),this.colors,this.setActiveColorMounted(".lineColor li",this.colors,this.lineColor),this.setActiveColorMounted(".bgColor li",this.bgColors,this.bgColor)}},d=u,h=n("2877"),g=Object(h["a"])(d,l,s,!1,null,null,null),f=g.exports,v={name:"app",components:{FreehandDrawSVG:f},data:function(){return{drawProps:{title:"Freehand SVG Draw",colors:["#EAEAEA","#292929","#00A0FF","#FF29AA","#FFE500","#FF3030","#12EB0A"],bgColors:["#EAEAEA","#292929","#00A0FF","#FF29AA","#FFE500","#FF3030","#12EB0A"],lineColor:"#292929",bgColor:"#EAEAEA"}}},methods:{changeLineColor:function(t){this.drawProps.lineColor=t},changeBgColor:function(t){this.drawProps.bgColor=t},saveDrawing:function(t){console.log(t)}},mounted:function(){}},p=v,b=(n("034f"),Object(h["a"])(p,r,i,!1,null,null,null)),C=b.exports;e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(C)}}).$mount("#app")},6369:function(t,o,n){t.exports=n.p+"img/download.286048ba.svg"},"64a9":function(t,o,n){},7156:function(t,o,n){},ce60:function(t,o,n){t.exports=n.p+"img/undo.575016c4.svg"}});
//# sourceMappingURL=app.90c60f19.js.map